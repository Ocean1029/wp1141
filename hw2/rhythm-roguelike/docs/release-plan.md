# Rhythm Roguelike v1.0 版本交付清單

## 📋 版本規劃概述

本文件規劃 Rhythm Roguelike 遊戲 v1.0 的各個小版本交付清單，每個版本都有明確的功能目標和可測試的交付物。

---

## 🎵 v0.1 - 核心節拍系統
**目標**: 建立遊戲的核心節拍基礎

### 📦 交付內容
- [ ] **節拍引擎**
  - 120 BPM, 4/4 拍設定
  - 正拍/負拍音效系統
  - 節拍同步機制
- [ ] **視覺節拍指示器**
  - 節拍條 UI 組件
  - 節拍同步動畫
- [ ] **輸入判定系統**
  - 精確的拍點判定
  - 判定窗口設定 (前後 50ms)
- [ ] **基礎音效**
  - 正拍音效 (較大聲)
  - 負拍音效 (較小聲)
  - 音效播放管理

### 🧪 測試標準
- 節拍器能穩定運行 120 BPM
- 音效與視覺指示器同步
- 輸入判定在拍點前後 50ms 內有效

### 📁 相關檔案
- `src/systems/RhythmSystem.ts` (擴展)
- `src/components/RhythmIndicator.tsx` (新增)
- `src/hooks/useRhythm.ts` (新增)
- `src/assets/sounds/` (新增目錄)

---

## ⚔️ v0.2 - 玩家基本系統
**目標**: 實現玩家的移動和攻擊機制

### 📦 交付內容
- [ ] **玩家移動系統**
  - 上下左右箭頭鍵控制
  - 每拍移動一格限制
  - 移動動畫效果
- [ ] **玩家攻擊系統**
  - 反拍 F 鍵攻擊
  - 攻擊方向指定 (上下左右)
  - 攻擊動畫和效果
- [ ] **玩家屬性系統**
  - 血量: 10
  - 攻擊力: 3
  - 屬性顯示 UI
- [ ] **輸入處理系統**
  - 鍵盤事件監聽
  - 輸入佇列管理
  - 節拍同步輸入

### 🧪 測試標準
- 玩家能按照節拍移動
- 攻擊只在反拍有效
- 攻擊方向正確指定
- 屬性正確顯示和更新

### 📁 相關檔案
- `src/components/Player.tsx` (新增)
- `src/systems/PlayerSystem.ts` (新增)
- `src/hooks/usePlayer.ts` (新增)
- `src/types/Player.ts` (新增)

---

## 👹 v0.3 - 敵人 AI 系統
**目標**: 實現四種敵人的 AI 和行為邏輯

### 📦 交付內容
- [ ] **近戰 A 敵人**
  - 血量: 9, 攻擊力: 2
  - 不相鄰時向玩家靠近
  - 相鄰時攻擊邏輯
- [ ] **近戰 B 敵人**
  - 血量: 7, 攻擊力: 3
  - 追擊玩家行為
- [ ] **遠程 A 敵人**
  - 血量: 5, 攻擊力: 3
  - 三輪循環: 移動-移動-射箭
  - 箭矢移動和碰撞
- [ ] **史萊姆 A 敵人**
  - 血量: 5, 攻擊力: 2
  - 隨機移動和黏液機制
- [ ] **敵人 AI 系統**
  - 敵人狀態管理
  - AI 決策邏輯
  - 敵人動畫效果

### 🧪 測試標準
- 每種敵人都按照規格行為
- AI 決策正確執行
- 敵人攻擊和移動同步
- 箭矢和黏液機制正常

### 📁 相關檔案
- `src/components/Enemy.tsx` (新增)
- `src/systems/EnemyAI.ts` (新增)
- `src/types/Enemy.ts` (新增)
- `src/components/Projectile.tsx` (新增)

---

## 🗺️ v0.4 - 地圖系統
**目標**: 建立地圖系統和房間生成機制

### 📦 交付內容
- [ ] **地圖生成系統**
  - 8×8, 6×6, 4×6 矩形房間
  - 隨機房間生成
  - 牆壁和障礙物
- [ ] **三層地牢結構**
  - 第一層: intro 層 (1怪物房 + 1獎勵房)
  - 第二層: 標準地牢層
  - 第三層: 最終挑戰層
- [ ] **房間轉換系統**
  - 房間間移動
  - 樓梯和傳送點
- [ ] **地圖渲染系統**
  - 2.5D 像素風渲染
  - 地圖視覺效果

### 🧪 測試標準
- 地圖正確生成和渲染
- 房間轉換正常
- 三層地牢結構完整
- 視覺效果符合設計

### 📁 相關檔案
- `src/components/Map.tsx` (新增)
- `src/systems/MapGenerator.ts` (新增)
- `src/types/Map.ts` (新增)
- `src/components/Room.tsx` (新增)

---

## ⚔️ v0.5 - 戰鬥系統完善
**目標**: 完善戰鬥系統和碰撞檢測

### 📦 交付內容
- [ ] **碰撞檢測系統**
  - 玩家與敵人碰撞
  - 攻擊判定
  - 箭矢碰撞
- [ ] **戰鬥邏輯**
  - 傷害計算
  - 死亡判定
  - 戰鬥動畫
- [ ] **遊戲狀態管理**
  - 遊戲進行狀態
  - 暫停/繼續功能
  - 狀態同步
- [ ] **戰鬥 UI**
  - 血量條
  - 傷害數字顯示
  - 戰鬥效果

### 🧪 測試標準
- 碰撞檢測精確
- 戰鬥邏輯正確
- 傷害計算準確
- UI 更新及時

### 📁 相關檔案
- `src/systems/CombatSystem.ts` (新增)
- `src/components/CombatUI.tsx` (新增)
- `src/hooks/useCombat.ts` (新增)

---

## 🎁 v0.6 - 獎勵系統
**目標**: 實現獎勵機制和升級系統

### 📦 交付內容
- [ ] **房間獎勵**
  - 愛心回復血量 (+3)
  - 獎勵生成和收集
- [ ] **層級獎勵**
  - 生命上限 +5
  - 傷害 +1
  - 回滿血
  - 三選一選擇界面
- [ ] **獎勵 UI**
  - 獎勵選擇界面
  - 升級效果顯示
  - 獎勵動畫

### 🧪 測試標準
- 獎勵正確生成和收集
- 升級效果正確應用
- UI 互動正常
- 獎勵動畫流暢

### 📁 相關檔案
- `src/components/RewardUI.tsx` (新增)
- `src/systems/RewardSystem.ts` (新增)
- `src/hooks/useRewards.ts` (新增)

---

## 🎨 v0.7 - UI/UX 優化
**目標**: UI/UX 優化和視覺效果完善

### 📦 交付內容
- [ ] **視覺效果優化**
  - 2.5D 像素風完善
  - 動畫效果優化
  - 粒子效果
- [ ] **UI 優化**
  - 響應式設計
  - 深色/淺色主題
  - 用戶體驗改善
- [ ] **音效優化**
  - 背景音樂
  - 音效優化
  - 音量控制
- [ ] **性能優化**
  - 渲染優化
  - 記憶體管理
  - 流暢度改善

### 🧪 測試標準
- 視覺效果美觀流暢
- UI 響應式正常
- 音效同步良好
- 性能表現穩定

### 📁 相關檔案
- `src/styles/` (優化)
- `src/components/UI/` (優化)
- `src/assets/` (完善)

---

## 🚀 v1.0 - 最終版本
**目標**: 最終整合測試和發布

### 📦 交付內容
- [ ] **完整功能整合**
  - 所有系統整合測試
  - 遊戲流程完整
  - 錯誤處理完善
- [ ] **勝利/失敗畫面**
  - 勝利條件達成
  - 失敗畫面
  - Retry 按鈕
- [ ] **最終測試**
  - 完整遊戲流程測試
  - 性能測試
  - 兼容性測試
- [ ] **文檔完善**
  - README.md 更新
  - 安裝說明
  - 玩法說明

### 🧪 測試標準
- 完整遊戲流程可玩
- 所有功能正常運作
- 無重大 bug
- 文檔完整

### 📁 相關檔案
- `src/components/GameOver.tsx` (新增)
- `src/components/Victory.tsx` (新增)
- `README.md` (完善)
- `docs/` (完善)

---

## 📅 開發時程建議

| 版本 | 預估時間 | 主要里程碑 |
|------|----------|------------|
| v0.1 | 2-3 天 | 節拍系統基礎 |
| v0.2 | 2-3 天 | 玩家系統完成 |
| v0.3 | 3-4 天 | 敵人 AI 完成 |
| v0.4 | 2-3 天 | 地圖系統完成 |
| v0.5 | 2-3 天 | 戰鬥系統完善 |
| v0.6 | 1-2 天 | 獎勵系統完成 |
| v0.7 | 2-3 天 | UI/UX 優化 |
| v1.0 | 1-2 天 | 最終整合 |

**總預估時間**: 15-23 天

---

## 🎯 成功標準

每個版本都應該達到以下標準：
- ✅ 功能完整實現
- ✅ 無重大 bug
- ✅ 可正常運行
- ✅ 符合設計規格
- ✅ 代碼品質良好

---

*此版本規劃將根據開發進度持續更新*
